(function($){Number.prototype.toFixed=function(j){var h=this+"";if(!j){j=0}if(h.indexOf(".")==-1){h+="."}h+=new Array(j+1).join("0");if(new RegExp("^(-|\\+)?(\\d+(\\.\\d{0,"+(j+1)+"})?)\\d*$").test(h)){var h="0"+RegExp.$2,g=RegExp.$1,e=RegExp.$3.length,c=true;if(e==j+2){e=h.match(/\d/g);if(parseInt(e[e.length-1])>4){for(var f=e.length-2;f>=0;f--){e[f]=parseInt(e[f])+1;if(e[f]==10){e[f]=0;c=f!=1}else{break}}}h=e.join("").replace(new RegExp("(\\d+)(\\d{"+j+"})\\d$"),"$1.$2")}if(c){h=h.substr(1)}return(g+h).replace(/\.$/,"")}return this+""};var o=function(){};o.prototype.eval=function(a){var b=a.match(new RegExp(/^".+"$/g))!=null;if(b==true){a=a.replace(/^"|"$/g,"")}var c=this.matchOutBrackets(a);for(var i=0;i<c.length;i++){var d=c[i];var f=this.eval(d.str.replace(/^\(|\)$/g,""));a=a.replace(d.str,f)}var g=new Array();while(1){var h=this.matchExp(a,"/");if(h==null){break}var v=this.executeDivi(h.firstValue,h.secondValue);if(v=="NaN"){var t="T"+new Date().getTime();g.push({Name:t,Exp:h.str});a=a.replace(h.str,t)}else{a=a.replace(h.str,v)}}while(1){var h=this.matchExp(a,"*");if(h==null){break}var v=this.executeMult(h.firstValue,h.secondValue);if(v=="NaN"){var t="T"+new Date().getTime();g.push({Name:t,Exp:h.str});a=a.replace(h.str,t)}else{a=a.replace(h.str,v)}}while(1){var h=this.matchExp(a,"+");if(h==null){break}var v=this.executeAddi(h.firstValue,h.secondValue);if(v=="NaN"||isNaN(v)){var t="T"+new Date().getTime();g.push({Name:t,Exp:h.str});a=a.replace(h.str,t)}else{a=a.replace(h.str,v)}}while(1){var h=this.matchExp(a,"-");if(h==null){break}var v=this.executeSubt(h.firstValue,h.secondValue);if(v=="NaN"){var t="T"+new Date().getTime();g.push({Name:t,Exp:h.str});a=a.replace(h.str,t)}else{a=a.replace(h.str,v)}}for(var i=g.length-1;i>=0;i--){var j=g[i];a=a.replace(j.Name,j.Exp)}while(1){var h=a.match(/\d*={2,3}\d*/g);if(h==null){break}var v=eval(h[0]);a=a.replace(h[0],v)}if(b==true){try{return eval('"'+a+'"')}catch(e){}try{return eval(a)}catch(e){}return a}if(a.match(/(^true$)|(^false$)/g)){return a==="true"}if(!isNaN(Number(a))){return Number(a)}try{return eval(a)}catch(e){}return a};o.prototype.matchOutBrackets=function(f){var h=new Array();if(f==null){return h}if(typeof f!="string"){f=f+""}var d=f.split("");var a=0;var g=false;var b=-1;for(var c=0;c<d.length;c++){if(d[c]=="("){a++;g=true;if(b==-1){b=c}}if(d[c]==")"){a--}if(g==true&&a==0){var e=new Object();e.str=f.substring(b,c+1);e.firstIndex=b;e.lastIndex=c+1;h.push(e);b=-1;g=false;a=0}}return h};o.prototype.matchExp=function(l,f){var j=null;if(l==null){return retList}if(typeof l!="string"){l=l+""}var k=l.split("");var c=0;var b=0;var g="";var e="";var a="";var d=false;for(var h=0;h<=k.length;h++){if(k[h]=="+"||k[h]=="-"||k[h]=="*"||k[h]=="/"||k[h]=="%"||h==k.length){if(a==""&&k[h]=="-"){a+=k[h];continue}if(d==true){e=a;b=h;j=new Object();j.firstIndex=c;j.secondIndex=b;j.str=l.substring(c,b);j.firstValue=Number(g);j.secondValue=Number(e);break}if(k[h]==null){break}if(k[h]==f){d=true;g=a;a=""}else{a="";c=-1}}else{a+=k[h];if(c==-1){c=h}}}return j};o.prototype.executeMult=function(d,b){var a=0,f=d.toString(),c=b.toString();try{a+=f.split(".")[1].length}catch(g){}try{a+=c.split(".")[1].length}catch(g){}return Number(f.replace(".",""))*Number(c.replace(".",""))/Math.pow(10,a)};o.prototype.executeDivi=function(a,b){var c=0,t2=0,r1,r2;try{c=a.toString().split(".")[1].length}catch(e){}try{t2=b.toString().split(".")[1].length}catch(e){}with(Math){r1=Number(a.toString().replace(".",""));r2=Number(b.toString().replace(".",""));return this.executeMult(r1/r2,pow(10,t2-c))}};o.prototype.executeAddi=function(a,b){var c,r2,m;try{c=a.toString().split(".")[1].length}catch(e){c=0}try{r2=b.toString().split(".")[1].length}catch(e){r2=0}m=Math.pow(10,Math.max(c,r2));return(this.eval(a+"*"+m)+this.eval(b+"*"+m))/m};o.prototype.executeSubt=function(a,b){var c,r2,m,n;try{c=a.toString().split(".")[1].length}catch(e){c=0}try{r2=b.toString().split(".")[1].length}catch(e){r2=0}m=Math.pow(10,Math.max(c,r2));n=(c>=r2)?c:r2;return((this.eval(a+"*"+m)-this.eval(b+"*"+m))/m).toFixed(n)};$.calcEval=function(a){if(a!=""&&a!=undefined){return new o(this).eval(a)}else{return new o(this)}}})(jQuery)